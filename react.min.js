/* @module watch
 *
 * Provides a polyfill installing the
 * [`watch`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/watch)
 * and [`unwatch`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/unwatch)
 * methods as defined on MDN.
 *
 */Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(e,t){var n=this[e],r=n,i=function(){return r},s=function(i){return n=r,r=t.call(this,e,n,i)};delete this[e]&&Object.defineProperty(this,e,{get:i,set:s,enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var t=this[e];delete this[e],this[e]=t}}),function(){var e,t,n,r;t=["push","unshift","pop","shift","reverse","sort","splice"],Object.defineProperty(Object.prototype,"proxy",{enumerable:!1,configurable:!0,writeable:!1,value:function(e,t,n,i){return r(this,e,t,n,i)}}),r=function(e,n,i,s,o){var u,a,f,l,c,h,p;if(!e)return null;if(typeof e!="object")return e;(e!=null?!e.__proxied__:!void 0)&&Object.defineProperty(e,"__proxied__",{enumerable:!1,value:{}}),n=n||function(){},i=i||function(){},s=s||{},o=(o!=null?o.slice(0):void 0)||[this],o.unshift(e),u=function(t,u,a){return typeof a=="object"&&r(a,n,i,s,o),n(e,t,u,s,o),i(e,t,a,s,o),a};for(f in e){l=e[f];if(Array.isArray(l)){c=function(){var t,u;return t=l,u=t[a],Object.defineProperty(t,a,{enumerable:!1,configurable:!0,writeable:!1,value:function(){var a,l,c,h,p;l=t.length,n(e,f,t,s,o),c=u.apply(t,arguments);for(h=0,p=arguments.length;h<p;h++)a=arguments[h],r(a,n,i,s,o);return i(e,f,t,s,o),t.length!==l&&r(t,n,i,s,o),c}})};for(h=0,p=t.length;h<p;h++)a=t[h],c()}l=r(l,n,i,s,o),e.__proxied__[f]||(e.watch(f,u),e.__proxied__[f]=!0)}return e},n=function(e,t,n,r,i){return i.forEach(function(r){var i;return r!=null?(i=r.__react__)!=null?i.before.forEach(function(r){return r(e,t,n)}):void 0:void 0})},e=function(e,t,n,r,i){return i.forEach(function(r){var i;return r!=null?(i=r.__react__)!=null?i.after.forEach(function(r){return r(e,t,n)}):void 0:void 0})},Object.defineProperty(Object.prototype,"react",{enumerable:!1,configurable:!0,writable:!1,value:function(t,r){var i,s,o;if(t){this.__react__||Object.defineProperty(this,"__react__",{enumerable:!1,configurable:!0,writable:!1,value:{before:[],after:[]}}),o=t.toLowerCase().split(" ");for(i=0,s=o.length;i<s;i++)t=o[i],t==="off"?this.__react__&&delete this.__react__:this.__react__[t]&&this.__react__[t].push(r)}return this.proxy(n,e)}})}.call(this);